import{_ as Q}from"./Cip1akfp.js";import{H as S,aa as j,ah as U,u as o,O as l,Q as r,a8 as y,i as h,b as v,w as D,W as c,U as e,a0 as M,X as u,a2 as x,a3 as B,a4 as N}from"./Co5tMnYY.js";import{u as P}from"./Bvi1VPMX.js";import{e as O,b as I}from"#entry";const L=S({__name:"Input",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(n,{emit:b}){const d=n,a=P(d,"modelValue",b,{passive:!0,defaultValue:d.defaultValue});return(s,i)=>j((r(),l("input",{"onUpdate:modelValue":i[0]||(i[0]=g=>h(a)?a.value=g:null),"data-slot":"input",class:y(o(O)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",d.class))},null,2)),[[U,o(a)]])}}),z={class:"mb-6 flex items-center gap-4"},H={class:"bg-muted h-16 w-16 overflow-hidden rounded-lg"},A={class:"text-foreground font-medium"},R={class:"text-accent text-lg font-bold"},T={class:"text-muted-foreground ml-2 text-sm font-normal"},W={key:0},q={key:1},E={class:"mb-6"},X={class:"flex items-center gap-2"},$={key:0,class:"mt-2 text-sm font-medium text-orange-600"},F={class:"bg-muted mb-6 rounded-lg p-4"},G={class:"text-muted-foreground flex justify-between text-sm"},J={class:"text-accent font-medium"},K={key:0,class:"text-muted-foreground ml-1"},Y={class:"text-muted-foreground flex justify-between text-sm"},Z={class:"text-foreground font-medium"},ee={class:"text-foreground flex justify-between font-semibold"},te={key:0,class:"text-accent text-lg"},oe={key:0,class:"text-muted-foreground ml-2 text-sm"},se={key:1,class:"text-muted-foreground"},ne={class:"flex gap-3"},re=["disabled"],ae=["disabled"],le={key:0},ie={key:1},fe={__name:"QuantityDialog",props:{isOpen:{type:Boolean,default:!1},bag:{type:Object,required:!0},defaultQuantity:{type:Number,default:50}},emits:["close","confirm"],setup(n,{emit:b}){const d=n,m=b,a=I(),s=v(d.defaultQuantity),i=v(!1);D(()=>d.isOpen,f=>{f&&(s.value=d.defaultQuantity)});const g=async()=>{if(!(s.value<1)){i.value=!0;try{m("confirm",d.bag,s.value),m("close")}finally{i.value=!1}}},p=()=>{m("close")},k=()=>{s.value+=50},w=()=>{s.value=Math.max(0,s.value-10)},_=f=>{const t=Number.parseInt(f.target.value)||0;s.value=Math.max(0,t)};return(f,t)=>{const V=Q;return n.isOpen?(r(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",onClick:p},[t[10]||(t[10]=e("div",{class:"absolute inset-0 bg-black/20 dark:bg-black/40"},null,-1)),e("div",{class:"bg-card border-border relative z-10 w-full max-w-md rounded-lg border p-6 shadow-xl",onClick:t[1]||(t[1]=N(()=>{},["stop"]))},[t[9]||(t[9]=e("h3",{class:"text-foreground mb-4 text-lg font-semibold"}," Add to Wish List ",-1)),e("div",z,[e("div",H,[n.bag.images[0]?(r(),M(V,{key:0,src:n.bag.images[0].url,alt:n.bag.images[0].alt,class:"h-full w-full object-cover",loading:"lazy",width:64,height:64,format:"webp"},null,8,["src","alt"])):c("",!0)]),e("div",null,[e("h4",A,u(n.bag.id)+" Handbag",1),e("p",R,[x(" ¥"+u(n.bag.price)+" ",1),e("span",T,[o(a).isLoading?(r(),l("span",W,"(Loading...)")):o(a).formatUSDPrice(n.bag.price)?(r(),l("span",q," ("+u(o(a).formatUSDPrice(n.bag.price))+") ",1)):c("",!0)])])])]),e("div",E,[t[4]||(t[4]=e("label",{class:"text-foreground mb-2 block text-sm font-medium"}," Quantity ",-1)),e("div",X,[e("button",{onClick:w,class:"border-border bg-background flex h-10 w-10 cursor-pointer items-center justify-center rounded-lg border transition-colors"},[...t[2]||(t[2]=[e("svg",{class:"text-foreground h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])]),B(o(L),{modelValue:o(s),"onUpdate:modelValue":t[0]||(t[0]=C=>h(s)?s.value=C:null),modelModifiers:{number:!0},type:"number",class:"w-[90px] text-center",onInput:_},null,8,["modelValue"]),e("button",{onClick:k,class:"border-border bg-background flex h-10 w-10 cursor-pointer items-center justify-center rounded-lg border transition-colors"},[...t[3]||(t[3]=[e("svg",{class:"text-foreground h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])])]),o(s)<1?(r(),l("div",$," MOQ is 50pcs ")):c("",!0)]),e("div",F,[e("div",G,[t[5]||(t[5]=e("span",null,"Unit Price:",-1)),e("span",J,[x(" ¥"+u(n.bag.price)+" ",1),o(a).formatUSDPrice(n.bag.price)?(r(),l("span",K," ("+u(o(a).formatUSDPrice(n.bag.price))+") ",1)):c("",!0)])]),e("div",Y,[t[6]||(t[6]=e("span",null,"Quantity:",-1)),e("span",Z,u(o(s))+" pieces",1)]),t[8]||(t[8]=e("hr",{class:"border-border my-2"},null,-1)),e("div",ee,[t[7]||(t[7]=e("span",null,"Total:",-1)),o(s)>=1?(r(),l("span",te,[x(" ¥"+u((n.bag.price*o(s)).toLocaleString())+" ",1),o(a).formatUSDPrice(n.bag.price*o(s))?(r(),l("span",oe," ("+u(o(a).formatUSDPrice(n.bag.price*o(s)))+") ",1)):c("",!0)])):(r(),l("span",se,"¥0"))])]),e("div",ne,[e("button",{class:"flex-1 cursor-pointer rounded-md border-2 px-4 py-2 text-sm font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg",style:{color:"#4a3429","background-color":"rgb(255 255 255 / 80%)","border-color":"#4a3429"},onClick:p,disabled:o(i)}," Cancel ",8,re),e("button",{class:y(["flex-1 rounded-md border-2 px-4 py-2 text-sm font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg",o(i)||o(s)<1?"cursor-not-allowed opacity-50":"cursor-pointer"]),style:{color:"white","background-color":"#4a3429","border-color":"#4a3429"},onClick:g,disabled:o(i)||o(s)<1},[o(i)?(r(),l("span",le,"Adding...")):(r(),l("span",ie,"❤️ Add to Wish List"))],10,ae)])])])):c("",!0)}}};export{fe as _};
